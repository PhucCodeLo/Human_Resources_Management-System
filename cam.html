<!-- File Quản lí Hai Nút -->
<!DOCTYPE html>
<html>
<head>
    <title>Human Resources Management System</title>
    <script>
        function updateClock() {
            var now = new Date();
            var timeElement = document.getElementById('current-time');
            var hours = now.getHours();
            var minutes = now.getMinutes();
            var seconds = now.getSeconds();
            var timeString = hours + ':' + (minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
            timeElement.innerHTML = timeString;
        }

        // Cập nhật thời gian mỗi giây
        setInterval(updateClock, 1000);
    </script>
</head>
<body>
    <h1>Human Resources Management System</h1>
    
    <!-- Hiển thị thời gian -->
    <div>
        Thời gian hiện tại: <span id="current-time"></span>
    </div>


    <div>
        <h2>Click để sử dụng tính năng:</h2>
    </div>

    <!-- Nút chuyển hướng đến trang page1 -->

    <div>
        <a href="{{ url_for('page1') }}">Face registration</a>
    </div>

    <!-- Nút chuyển hướng đến trang page2 -->
    <div>
        <a href="{{ url_for('page2') }}">Grant permisstion</a>
    </div>

    

    <!-- File Cấp Quyền Camera -->
    <h1>Live Camera</h1>
    <video id="video" width="640" height="480" autoplay></video>
    <canvas id="canvas" width="640" height="480"></canvas>

    <script>
        const video = document.getElementById('video');
        const canvas = document.getElementById('canvas');
        const context = canvas.getContext('2d');

        navigator.mediaDevices.getUserMedia({ video: true })
            .then((stream) => {
                video.srcObject = stream;
            })
            .catch((err) => {
                console.error('Error accessing camera:', err);
            });

        video.addEventListener('play', () => {
            const cameraCanvas = document.createElement('canvas');
            cameraCanvas.width = video.width;
            cameraCanvas.height = video.height;
            const cameraContext = cameraCanvas.getContext('2d');

            const processFrames = () => {
                cameraContext.drawImage(video, 0, 0, video.width, video.height);
                const imageData = cameraContext.getImageData(0, 0, video.width, video.height);

                // You can send the imageData to the server for face detection processing
                // Example: fetch('/process_frame', { method: 'POST', body: JSON.stringify(imageData) });

                requestAnimationFrame(processFrames);
            };

            processFrames();
        });
    </script>
</body>
</html>
